---
title: 节流和防抖
date: 2021-06-04 19:25:21
tags: 
- 前端
- javascript
categories:
- 前端
- javascript
---

+ 写个防抖和节流函数。

```typescript
// 防抖函数
type Callback = (...args:any[])=> void;
function debounce(cb: Callback, delay: number){
  let timer;
  return function (){
    const _this = this;
    const _args = args;
    if(!timer){
      setTimeout(cb.call(_this, ..._args), delay);
    }else{
      clearTimeout(timer);
      timer = setTimeout(cb.call(_this, ..._args), delay);
    }
  }
}

// 节流函数
function throttle(cb: Callback, delay: number){
  let timer;
  return function (){
    const _this = this;
    const _args = arguments;
    if(timer){
      return;
    }else {
      timer = setTimeout(function () {
        cb.apply(_this, _args)
        timer = null;
      },delay)
    }
  }
}

```
